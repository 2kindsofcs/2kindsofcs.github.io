---
layout: post
title: "2019-05-14-TIL"
slug: "190514-TIL"
tags: [TIL]
---

오늘 한 일  

* wed-study-chatbot: 
1. 유저가 버튼을 클릭하면 날아오는 post 요청에 대한 처리를 하는 코드에 try catch 구문을 넣어서 에러 메세지가 나오게끔 했다.
2. db에 슬랙 챗봇 자체에 대한 정보는 포함되지 않도록 했다. 관심사는 채팅방에 있는 사람들의 스터디 참석 여부이지 챗봇의 참석 여부가 아니기 때문이다. 
  - map을 이용해서 챗봇을 걸러내려고 했는데, 그러면 걸러진 부분(챗봇 id가 있던 인덱스)에 undefined가 출력됨을 알았다. 예를 들어 [ undefined, {name: 사람이름} ] 같은 식.
  - 그래서 splice로 챗봇 id를 제거하고 map에 넘겨줬는데, 조금 찝찝한 기분.  

* 라인 챗봇: 회사에서 쓸 챗봇을 하나 만드려고 조금 알아봤다. 이번엔 heroku를 써볼 생각이다. 
  - 슬랙 챗봇을 만들어본 경험 덕분에 메세지 구조라든가 각종 메소드들 문법이 예전보다는 빠르게 눈에 들어왔다. 샘플 코드를 찬찬히 뜯어보는데 어느 순간 전구에 불이 들어오는 기분. 
  - add-on으로 헤로쿠에 몽고db를 붙일 수 있는 것 같던데. 근데 그냥 knex 쓰면 되지 않나? 어차피 깃헙 연동시켜놓으면 알아서 해줄텐데...  

한편 체력관리를 좀 더 잘해야겠다는 생각이 들었다. 힘이 없을 수록 운동을 해야하며, 푹 자는 것이 중요하다. 아침에 어떻게든 일어나서 컴퓨터 구조 책을 보고, 차라리 점심시간에 낮잠을 20분 정도 자는 게 낫겠다. 


